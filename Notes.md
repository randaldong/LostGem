# Pixel Sidescroller

## 2D Pixel Specific Settings

- Main Camera --> Rendering --> Anti-aliasing --> No Anti-aliasing



## Tilemap

### Traditional Tiles

- import & change settings of 2D textures/sprites

  - Texture Type: Sprite
  - Sprite Mode: Single/Multiple

  - Pixels Per Unit: 16/32/64, according to actual texture

  - Filter Mode: Point (using no mipmap, usually for pixel style)

  - Compression: None

- if the mode is multiple, slice the sprite in Sprite Editor: 

  - for character, grid by cell count, fill in C & R, pivot: bottom (so that computations will always be relative to the feet)
  - for environment assets, grid by cell size, fill in pixel size, pivot: center

- create a Tilemap in the scene (a tilemap is like a layer)

- use Tile Palette (Window --> 2D --> Tile Palette) to draw tilemaps
	- create a palette (a collection of tiles that you can choose from, stored as an object in your project, put them inside `Assets/Tilemaps/Palettes`)
	- drag the parent texture into the Tile Palette window (this will trigger Unity to ask you to create Tile asset for each sprite, store them in `Assets/Tilemaps/Tiles/XXX`). Note, if you drag the children, they will be shuffled and messy in the window.
	- paint the base tilemap using those handy tools (`shift` + click to erase)
	- create a new tilemap (new layer) for overlay levels/objects, set the `Order in Layer` to a greater value, in Tile Palette switch active tilemap

- change the viewport size in game mode to preview; change the camera size to change the scene size



### Rule Tiles

- create rule tiles
- add rules, pay attention to layer order and corner rules



### Animated Tiles

- use several sprites for one animated tile to create a moving effect



## Player

### Layer

- to put it in front of everything, a good practice is to create different sorting layers for different hierarchies, and put the character in a "bigger" layer



### Physics 2D

Can change the settings in Project Settings --> Physics 2D, including Gravity (-9.81 by default), Simulation Mode (Fixed Update by default, 0.02s per update)

- Rigidbody 2D for character
  - freeze its rotation in Constraints so that it won't fall
  - switch Collision Detection to Continuous for higher accuracy when the character could have lots of moves & collisions
- Collider 2D
  - for the character, Capsule Collider 2D, edit collider to let it fit 
  - for the object , Tilemap Collider 2D (check Used By Composite to optimize, otherwise Unity will check collision with each tile), Composite Collider 2D (will automatically add a Rigidbody, set its Body Type as Static so it won't be affected by gravity/won't fall)



### Controller

#### Input System

Use the new Input System (the old one is not friendly to cross-platform input):

Project Settings --> Player --> Other Settings --> Configuration

- API Compatibility Level = .NET Framework, can use more C# features
- Active Input Handling = Input System Package (New), apply & restart, install it in Package Manager (Unity Registry)



Manually Add Configuration File:

- create a new folder: `Assets/Settings/InputSystem`
- create Input Actions in this folder
- edit Action Maps (can create different maps for different input systems, e.g., gameplay, UI, different levels...)
- add control schemes for different bindings



Default Input Action Automatically Created by Unity:

- Player --> add Player Input component
- follow the notification :warning: and `Create Actions...`, save the auto-generated input action in `Assets/Settings/InputSystem` (contains Action Maps for Player & UI)
- edit the map if you need
- go back to Player, delete the Player Input component (or you can keep it and set the Behavior as Invoke Unity Events, then use the event listener to implement controls, which is quite limited) because here we're going to use code for controls.
- go to the input action generated by Unity, check Generate C# Class, apply
- then create a custom script/class that inherit from the above class
- enjoy writing the code!













